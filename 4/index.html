<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Tute 4</title>
  </head>
  <body>
    <h1>Tutorial 4. RSA encryption and decryption</h1>

    <h3>Encryption (numbers only)</h3>
    <label>Input n (integer): </label>
    <input id="n" type="text" value="35">
    <label>Input e (integer): </label>
    <input id="e" type="text" value="5">
    <br>

    <h3>Input plaintext (numbers only)</h3>
    <label>Plaintext</label>
    <input type="text" value="5" id="plaintxt">
    <br><br>

    <button onclick="encrypt()" type="button">Encrypt!</button>
    <h3><div id="ciphertxt"></div></h3>

    <hr>

    <h3>Decryption</h3>
    <label>Input d:</label>
    <input id="d" type="text" value="5">
    <br><br>
    <label>Input the cipher text:</label>
    <input id="ciphertxt2" type="text" value="ciphertext">
    <br><br>

    <button onclick="decrypt()" type="button">Decrypt!</button>
    <h3><div id="deciphered"></div></h3>

    <script>
      function encrypt() {
        var n = parseInt(document.getElementById('n').value);
        var e = parseInt(document.getElementById('e').value);
        var plaintxt = document.getElementById('plaintxt').value;
        var cypherN = (Math.pow(plaintxt, e)) % n;
        document.getElementById('ciphertxt').innerHTML = "The cipher text is " + cypherN;
        document.getElementById('ciphertxt2').value = cypherN;
      }

      function decrypt() {
        var ciphertxt = document.getElementById('ciphertxt2').value;
        var d = parseInt(document.getElementById('d').value);
        var n = parseInt(document.getElementById('n').value);
        var cipherN = parseInt(ciphertxt);
        var decipherN = (Math.pow(cipherN, d)) % n;
        document.getElementById('deciphered').innerHTML = decipherN;
       }
    </script>
  </body>
</html>
